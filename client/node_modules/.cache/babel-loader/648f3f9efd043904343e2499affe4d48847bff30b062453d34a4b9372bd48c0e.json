{"ast":null,"code":"var _jsxFileName = \"/Users/davidpascual/Desktop/code/triumph-react/client/src/components/container4/requests/Requests.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport ReCAPTCHA from \"react-google-recaptcha\";\n// import ReCAPTCHA from '../../ReCAPTCHA/ReCAPTCHA';\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAsyncScript } from \"react-async-script\";\nimport './requests.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Requests() {\n  _s();\n  const navigate = useNavigate();\n  const [name, setName] = useState(\"\");\n  const [request, setRequest] = useState(\"\");\n  const RECAPTCHA_KEY = \"6LfNNeYlAAAAAKxcz4Qwjw-dK8tZOGwY09RRHfbo\";\n  const [token, setToken] = useState('');\n  const handleReCAPTCHA = async () => {\n    try {\n      const token = await window.grecaptcha.enterprise.execute(RECAPTCHA_KEY, {\n        action: 'user_input'\n      });\n      setToken(token);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  if (!isScriptLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading reCAPTCHA script...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 16\n    }, this);\n  }\n  if (!isScriptLoadSucceed) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Failed to load reCAPTCHA script. Please check your network connection or try again later.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }, this);\n  }\n\n  // =====================================\n\n  // const handleSubmit = async(e) => {\n  //     e.preventDefault();\n\n  //     const newRequest = {\n  //         name,\n  //         request\n  //     };\n  //     try{\n  //         const response = await axios.post('/api/requests', newRequest);\n  //             if(response.status){ //if response is true\n  //                 // navigate('/')\n  //                 console.log(response)\n\n  //             } else { //if something is wrong with response\n  //                 console.log(\"SOMETHING WENT WRONG!\")\n  //                 // console.err(err)\n  //             }\n\n  //     }catch (error){\n  //         console.log(error)\n  //         if (error.response) {\n  //             // The request was made and the server responded with a status code\n  //             console.log(\"Status code:\", error.response.status);\n  //             console.log(\"Response data:\", error.response.data);\n  //             console.log(\"Headers:\", error.response.headers);\n  //         } else if (error.request) {\n  //             // The request was made but no response was received\n  //             console.log(\"Request:\", error.request);\n  //         } else {\n  //             // Something else happened while setting up the request\n  //             console.log(\"Error:\", error.message);\n  //         }\n  //     }\n  // }\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!token) {\n      alert('Please complete the ReCAPTCHA challenge');\n      return;\n    } else {\n      const newRequest = {\n        name: inputs.name,\n        request: inputs.request,\n        token: token\n      };\n      try {\n        const response = await axios.post('/api/requests', newRequest);\n        if (response.status === 200) {\n          // navigate('/');\n          console.log(response);\n        } else {\n          console.log('SOMETHING WENT WRONG!');\n        }\n      } catch (error) {\n        console.log(error);\n        if (error.response) {\n          console.log('Status code:', error.response.status);\n          console.log('Response data:', error.response.data);\n          console.log('Headers:', error.response.headers);\n        } else if (error.request) {\n          console.log('Request:', error.request);\n        } else {\n          console.log('Error:', error.message);\n        }\n      }\n    }\n  };\n\n  //======================================\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fluidContainerRequests container-sm\",\n      id: \"requests\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"create\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Have a Prayer request?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Minus, vitae reiciendis? Impedit ad maiores tenetur enim eveniet earum officia neque repellat delectus voluptate reiciendis maxime, non dicta, saepe rerum velit.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          id: \"add-request-form\",\n          action: \"\",\n          role: \"form\",\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"from-control\",\n            id: \"memberName\",\n            placeholder: \"Enter Name\",\n            onChange: e => setName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Request Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"requestDetails\",\n            placeholder: \"Enter Request Details\",\n            onChange: e => setRequest(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ReCAPTCHA, {\n            sitekey: \"6LfaYOclAAAAADnr7215oSNyJx7Ltna5bXcRe-Jf\",\n            onChange: handleReCAPTCHA\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            id: \"submit-request\",\n            children: \"submit prayer request\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n_s(Requests, \"QTBIT80qHssAmnQs1AeD6TitD+Y=\", false, function () {\n  return [useNavigate];\n});\n_c = Requests;\nvar _c;\n$RefreshReg$(_c, \"Requests\");","map":{"version":3,"names":["axios","ReCAPTCHA","React","useState","useEffect","useNavigate","useAsyncScript","Requests","navigate","name","setName","request","setRequest","RECAPTCHA_KEY","token","setToken","handleReCAPTCHA","window","grecaptcha","enterprise","execute","action","error","console","isScriptLoaded","isScriptLoadSucceed","handleSubmit","e","preventDefault","alert","newRequest","inputs","response","post","status","log","data","headers","message","target","value"],"sources":["/Users/davidpascual/Desktop/code/triumph-react/client/src/components/container4/requests/Requests.js"],"sourcesContent":["import axios from 'axios';\nimport ReCAPTCHA from \"react-google-recaptcha\";\n// import ReCAPTCHA from '../../ReCAPTCHA/ReCAPTCHA';\nimport React, {useState, useEffect} from 'react';\nimport {useNavigate} from 'react-router-dom';\nimport { useAsyncScript } from \"react-async-script\";\nimport './requests.css'\n\nexport default function Requests() {\n\n    const navigate = useNavigate();\n    const [name, setName] = useState(\"\")\n    const [request, setRequest] = useState(\"\");\n\n    const RECAPTCHA_KEY = \"6LfNNeYlAAAAAKxcz4Qwjw-dK8tZOGwY09RRHfbo\";\n\n    const [token, setToken] = useState('');\n\n    const handleReCAPTCHA = async () => {\n        try {\n          const token = await window.grecaptcha.enterprise.execute(\n            RECAPTCHA_KEY,\n            { action: 'user_input' }\n          );\n          setToken(token);\n        } catch (error) {\n          console.error(error);\n        }\n    };\n\n    if (!isScriptLoaded) {\n        return <div>Loading reCAPTCHA script...</div>;\n      }\n    \n      if (!isScriptLoadSucceed) {\n        return (\n          <div>\n            Failed to load reCAPTCHA script. Please check your network connection or try again later.\n          </div>\n        );\n      }\n      \n\n// =====================================\n    \n    // const handleSubmit = async(e) => {\n    //     e.preventDefault();\n\n    //     const newRequest = {\n    //         name,\n    //         request\n    //     };\n    //     try{\n    //         const response = await axios.post('/api/requests', newRequest);\n    //             if(response.status){ //if response is true\n    //                 // navigate('/')\n    //                 console.log(response)\n                    \n    //             } else { //if something is wrong with response\n    //                 console.log(\"SOMETHING WENT WRONG!\")\n    //                 // console.err(err)\n    //             }\n        \n    //     }catch (error){\n    //         console.log(error)\n    //         if (error.response) {\n    //             // The request was made and the server responded with a status code\n    //             console.log(\"Status code:\", error.response.status);\n    //             console.log(\"Response data:\", error.response.data);\n    //             console.log(\"Headers:\", error.response.headers);\n    //         } else if (error.request) {\n    //             // The request was made but no response was received\n    //             console.log(\"Request:\", error.request);\n    //         } else {\n    //             // Something else happened while setting up the request\n    //             console.log(\"Error:\", error.message);\n    //         }\n    //     }\n    // }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if (!token) {\n          alert('Please complete the ReCAPTCHA challenge');\n          return;\n        } else {\n\n            const newRequest = {\n                name: inputs.name,\n                request: inputs.request,\n                token: token,\n              };\n              try {\n                const response = await axios.post('/api/requests', newRequest);\n                if (response.status === 200) {\n                  // navigate('/');\n                  console.log(response);\n                } else {\n                  console.log('SOMETHING WENT WRONG!');\n                }\n              } catch (error) {\n                console.log(error);\n                if (error.response) {\n                  console.log('Status code:', error.response.status);\n                  console.log('Response data:', error.response.data);\n                  console.log('Headers:', error.response.headers);\n                } else if (error.request) {\n                  console.log('Request:', error.request);\n                } else {\n                  console.log('Error:', error.message);\n                }\n              }\n            }\n      };\n\n//======================================\n  return (\n    <>\n    \n    <div className=\"fluidContainerRequests container-sm\" id=\"requests\">\n        <div className=\"create\">\n            <h2>Have a Prayer request?</h2>\n            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Minus, vitae reiciendis? Impedit ad maiores tenetur enim eveniet earum officia neque repellat delectus voluptate reiciendis maxime, non dicta, saepe rerum velit.</p>\n            <form id=\"add-request-form\" action=\"\" role=\"form\" onSubmit={handleSubmit}>\n                <label>Name</label>\n                <input \n                    type=\"text\" \n                    className=\"from-control\" \n                    id=\"memberName\" \n                    placeholder=\"Enter Name\"\n                    onChange={e=>setName(e.target.value)}\n                />\n\n                <label>Request Details</label>\n                <textarea \n                    type=\"text\" \n                    className=\"form-control\" \n                    id=\"requestDetails\" \n                    placeholder=\"Enter Request Details\"\n                    onChange={e=>setRequest(e.target.value)}\n\n                >\n                </textarea>\n\n                {/* <div id=\"recaptcha-container\"></div> */}\n\n                <ReCAPTCHA \n                    sitekey=\"6LfaYOclAAAAADnr7215oSNyJx7Ltna5bXcRe-Jf\"\n                    onChange={handleReCAPTCHA}\n                />\n\n                <button \n                    type=\"submit\" \n                    id=\"submit-request\"\n                >\n                submit prayer request\n                </button>\n            </form>\n        </div>\n    </div>\n    </>\n  )\n}\n\n\n\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,wBAAwB;AAC9C;AACA,OAAOC,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAChD,SAAQC,WAAW,QAAO,kBAAkB;AAC5C,SAASC,cAAc,QAAQ,oBAAoB;AACnD,OAAO,gBAAgB;AAAA;AAAA;AAEvB,eAAe,SAASC,QAAQ,GAAG;EAAA;EAE/B,MAAMC,QAAQ,GAAGH,WAAW,EAAE;EAC9B,MAAM,CAACI,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAE1C,MAAMU,aAAa,GAAG,0CAA0C;EAEhE,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMa,eAAe,GAAG,YAAY;IAChC,IAAI;MACF,MAAMF,KAAK,GAAG,MAAMG,MAAM,CAACC,UAAU,CAACC,UAAU,CAACC,OAAO,CACtDP,aAAa,EACb;QAAEQ,MAAM,EAAE;MAAa,CAAC,CACzB;MACDN,QAAQ,CAACD,KAAK,CAAC;IACjB,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB;EACJ,CAAC;EAED,IAAI,CAACE,cAAc,EAAE;IACjB,oBAAO;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAsC;EAC/C;EAEA,IAAI,CAACC,mBAAmB,EAAE;IACxB,oBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAEM;EAEV;;EAGN;;EAEI;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAMC,YAAY,GAAG,MAAOC,CAAC,IAAK;IAC9BA,CAAC,CAACC,cAAc,EAAE;IAClB,IAAI,CAACd,KAAK,EAAE;MACVe,KAAK,CAAC,yCAAyC,CAAC;MAChD;IACF,CAAC,MAAM;MAEH,MAAMC,UAAU,GAAG;QACfrB,IAAI,EAAEsB,MAAM,CAACtB,IAAI;QACjBE,OAAO,EAAEoB,MAAM,CAACpB,OAAO;QACvBG,KAAK,EAAEA;MACT,CAAC;MACD,IAAI;QACF,MAAMkB,QAAQ,GAAG,MAAMhC,KAAK,CAACiC,IAAI,CAAC,eAAe,EAAEH,UAAU,CAAC;QAC9D,IAAIE,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;UAC3B;UACAX,OAAO,CAACY,GAAG,CAACH,QAAQ,CAAC;QACvB,CAAC,MAAM;UACLT,OAAO,CAACY,GAAG,CAAC,uBAAuB,CAAC;QACtC;MACF,CAAC,CAAC,OAAOb,KAAK,EAAE;QACdC,OAAO,CAACY,GAAG,CAACb,KAAK,CAAC;QAClB,IAAIA,KAAK,CAACU,QAAQ,EAAE;UAClBT,OAAO,CAACY,GAAG,CAAC,cAAc,EAAEb,KAAK,CAACU,QAAQ,CAACE,MAAM,CAAC;UAClDX,OAAO,CAACY,GAAG,CAAC,gBAAgB,EAAEb,KAAK,CAACU,QAAQ,CAACI,IAAI,CAAC;UAClDb,OAAO,CAACY,GAAG,CAAC,UAAU,EAAEb,KAAK,CAACU,QAAQ,CAACK,OAAO,CAAC;QACjD,CAAC,MAAM,IAAIf,KAAK,CAACX,OAAO,EAAE;UACxBY,OAAO,CAACY,GAAG,CAAC,UAAU,EAAEb,KAAK,CAACX,OAAO,CAAC;QACxC,CAAC,MAAM;UACLY,OAAO,CAACY,GAAG,CAAC,QAAQ,EAAEb,KAAK,CAACgB,OAAO,CAAC;QACtC;MACF;IACF;EACN,CAAC;;EAEP;EACE,oBACE;IAAA,uBAEA;MAAK,SAAS,EAAC,qCAAqC;MAAC,EAAE,EAAC,UAAU;MAAA,uBAC9D;QAAK,SAAS,EAAC,QAAQ;QAAA,wBACnB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAA+B,eAC/B;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAkO,eAClO;UAAM,EAAE,EAAC,kBAAkB;UAAC,MAAM,EAAC,EAAE;UAAC,IAAI,EAAC,MAAM;UAAC,QAAQ,EAAEZ,YAAa;UAAA,wBACrE;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAmB,eACnB;YACI,IAAI,EAAC,MAAM;YACX,SAAS,EAAC,cAAc;YACxB,EAAE,EAAC,YAAY;YACf,WAAW,EAAC,YAAY;YACxB,QAAQ,EAAEC,CAAC,IAAEjB,OAAO,CAACiB,CAAC,CAACY,MAAM,CAACC,KAAK;UAAE;YAAA;YAAA;YAAA;UAAA,QACvC,eAEF;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAA8B,eAC9B;YACI,IAAI,EAAC,MAAM;YACX,SAAS,EAAC,cAAc;YACxB,EAAE,EAAC,gBAAgB;YACnB,WAAW,EAAC,uBAAuB;YACnC,QAAQ,EAAEb,CAAC,IAAEf,UAAU,CAACe,CAAC,CAACY,MAAM,CAACC,KAAK;UAAE;YAAA;YAAA;YAAA;UAAA,QAGjC,eAIX,QAAC,SAAS;YACN,OAAO,EAAC,0CAA0C;YAClD,QAAQ,EAAExB;UAAgB;YAAA;YAAA;YAAA;UAAA,QAC5B,eAEF;YACI,IAAI,EAAC,QAAQ;YACb,EAAE,EAAC,gBAAgB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAGd;QAAA;UAAA;UAAA;UAAA;QAAA,QACN;MAAA;QAAA;QAAA;QAAA;MAAA;IACL;MAAA;MAAA;MAAA;IAAA;EACJ,iBACH;AAEP;AAAC,GA1JuBT,QAAQ;EAAA,QAEXF,WAAW;AAAA;AAAA,KAFRE,QAAQ;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}